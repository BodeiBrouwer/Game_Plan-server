(this["webpackJsonpgame_plan-client"]=this["webpackJsonpgame_plan-client"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/festive-pineapple.136fc483.png"},23:function(e,t,a){e.exports=a.p+"static/media/Game-Plan-logo.2513166d.png"},24:function(e,t,a){e.exports=a.p+"static/media/pineapple-pink-glasses.ab369d88.png"},38:function(e,t,a){e.exports=a.p+"static/media/pineapple.01a35883.png"},47:function(e,t,a){e.exports=a(82)},52:function(e,t,a){},54:function(e,t,a){},81:function(e,t,a){e.exports=a.p+"static/media/header-image.b7b30a7c.jpg"},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),i=a.n(l),c=(a(52),a(4)),s=a(5),m=a(7),o=a(6),u=(a(53),a(54),"https://gameplan-improv.herokuapp.com/api"),p=a(3),g=a.n(p),d=a(1),h=function(e){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"navbar--logo-holder"},r.a.createElement(d.b,{to:"/games"},r.a.createElement("img",{src:a(23),alt:"logo",className:"navbar--logo"}))),r.a.createElement("ul",{className:"navbar--link"},r.a.createElement("li",{className:"navbar--link-item"},r.a.createElement(d.b,{className:"navbar--link-item",to:"/games"},"Games")),r.a.createElement("li",{className:"navbar--link-item"},r.a.createElement(d.b,{className:"navbar--link-item",to:"/games/create"},"Create Game")),r.a.createElement("li",{className:"navbar--link-item"},r.a.createElement(d.b,{className:"navbar--link-item",to:"/trainings"},"My Trainings")),r.a.createElement("li",{className:"navbar--link-item"},r.a.createElement("button",{className:"logout-btn",onClick:e.onLogout},"Log Out"))))},E=a(96),f=function(e){Object(m.a)(n,e);var t=Object(o.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("section",{className:"welcome-text"},r.a.createElement("img",{src:a(23),alt:"logo Game Plan"}),r.a.createElement("h3",null,"Plan the perfect improv training  with the help of our game database")),r.a.createElement("form",{className:"form login-form",onSubmit:this.props.onSignIn},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",id:"exampleInputEmail1",name:"email","aria-describedby":"emailHelp"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"exampleInputPassword1"})),this.props.errorMessage&&r.a.createElement("p",{className:"auth-error"},r.a.createElement("b",null,this.props.errorMessage)),r.a.createElement("div",{className:"login-btns"},r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Submit"),r.a.createElement(d.b,{to:"signup"},r.a.createElement(E.a,{variant:"btn btn-success"},"Sign up instead")))))}}]),n}(r.a.Component);function v(e){return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"welcome-text"},r.a.createElement("img",{src:a(23),alt:"logo Game Plan"}),r.a.createElement("p",null," Plan the perfect improv training ",r.a.createElement("br",null)," with the help of our game database ")),r.a.createElement("form",{className:"form login-form",onSubmit:e.onSignUp},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputUsername"},"Username"),r.a.createElement("input",{type:"text",className:"form-control",id:"exampleInputUsername",name:"username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",id:"exampleInputEmail1",name:"email","aria-describedby":"emailHelp"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"exampleInputPassword1"})),e.errorMessage&&r.a.createElement("p",{className:"auth-error"},r.a.createElement("b",null,e.errorMessage)),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Submit")))}var b=a(8),y=a(95),N=function(e){Object(m.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={game:"",likeList:[]},e.incrementMe=function(){g.a.patch("".concat(u,"/games/").concat(e.state.game._id,"/like"),{},{withCredentials:!0}).then((function(t){e.setState({game:t.data})}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setState({game:this.props.game,likeList:this.state.game.likes})}},{key:"render",value:function(){return this.state.game.likes?r.a.createElement("div",{className:"likes"},r.a.createElement("p",null,this.state.game.likes.length),r.a.createElement("button",{className:"like-count",onClick:this.incrementMe},this.state.game.likes.includes(this.props.loggedInUser._id)?r.a.createElement("img",{className:"like-btn liked",src:a(38),alt:"pineapple"}):r.a.createElement("img",{className:"like-btn",src:a(38),alt:"pineapple"}))):r.a.createElement("p",null,"Loading .. ")}}]),n}(n.Component),C=a(45),S=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={trainings:[],selectedTrainings:[]},e.handleChange=function(t){var a=t.currentTarget.value,n=JSON.parse(JSON.stringify(e.state.selectedTrainings));n=a,e.setState({selectedTrainings:n})},e.handleAdd=function(t){g.a.patch("".concat(u,"/games/").concat(e.state.selectedTrainings,"/").concat(t._id,"/add"),{},{withCredentials:!0}).then((function(t){e.setState({selectedTrainings:t.data})}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("".concat(u,"/trainings"),{withCredentials:!0}).then((function(t){e.setState({trainings:t.data})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup\\_inner"},r.a.createElement("fieldset",null,r.a.createElement("h2",null,"Your trainings"),r.a.createElement("hr",null),r.a.createElement("div",{classname:"popup-list"},this.state.trainings.map((function(t,a){return r.a.createElement("div",{className:"popup-item",key:"check"+t._id},r.a.createElement("input",{className:"popup-input",onChange:e.handleChange,checked:e.state.selectedTrainings===t._id,type:"checkbox",name:t._id,value:t._id}),r.a.createElement("label",{htmlFor:t._id},t.name))})))),r.a.createElement(d.b,{to:"/games"},r.a.createElement(E.a,{onClick:function(){e.handleAdd(e.props.game),e.props.closePopup()},variant:"btn btn-success"},"Add")),r.a.createElement(d.b,{to:"/trainings/create"},r.a.createElement(E.a,{variant:"btn btn-success"},"New training"))))}}]),a}(r.a.Component),O=[{label:"Warm-ups",value:"warm-up"},{label:"Exercises",value:"exercise"},{label:"Scenes",value:"scenes"}],w=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={games:[],selectedOption:null,filteredGames:[],showPopup:!1},e.handleSearch=function(t){e.setState({selectedOption:t});var a=[];if(t){var n=t.map((function(e){return e.value}));a=e.state.games.filter((function(e){return n.includes(e.category)}))}else a=e.state.games;e.setState({filteredGames:a})},e.sortAscending=function(){var t;t=e.state.filteredGames.sort((function(e,t){return e.likes.length<t.likes.length?1:-1})),e.setState({filteredGames:t})},e.togglePopup=function(t){e.setState({showPopup:!e.state.showPopup,selectedGame:t})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("".concat(u,"/games"),{withCredentials:!0}).then((function(t){e.setState({games:t.data,filteredGames:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state.selectedOption;return this.state.filteredGames?r.a.createElement("div",null,this.props.loggedInUser?r.a.createElement("div",{className:"center-piece"},r.a.createElement("h1",null," Find the game"),r.a.createElement("section",{className:"search-section"},r.a.createElement(C.a,{className:"select",isMulti:!0,value:t,onChange:this.handleSearch,options:O}),r.a.createElement(E.a,{onClick:this.sortAscending,variant:"btn btn-success btn-new-game"},"Sort by likes")),r.a.createElement(d.b,{to:"/games/create"},r.a.createElement(E.a,{variant:"btn btn-success btn-top-margin btn-new-game"},"Create your own game")),0===this.state.filteredGames?null:this.state.filteredGames.map((function(t,a){return r.a.createElement(y.a,{className:"card",key:"game"+t._id},r.a.createElement(y.a.Header,{className:"card-header"},r.a.createElement("span",{className:"card-title"},r.a.createElement("h5",null,t.name)," ",r.a.createElement("h5",null,t.category.charAt(0).toUpperCase()+t.category.slice(1)))),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Text,{className:"card-game-descr overflow"},t.description),r.a.createElement(y.a.Text,{className:"card-game-creator"},"Creator: ",r.a.createElement(d.b,{to:"/user/".concat(t.creator._id)},t.creator.username)),r.a.createElement("div",{className:"btn-with-like"},r.a.createElement("div",{className:"btn-collection-card"},r.a.createElement(d.b,{to:"/games/".concat(t._id)},r.a.createElement(E.a,{variant:"btn btn-success"},"More")),r.a.createElement(E.a,{className:"btn-add",onClick:function(){return e.togglePopup(t)},variant:"btn btn-success"},"Add to training"),e.state.showPopup?r.a.createElement(S,{show:e.state.showPopup,game:e.state.selectedGame,closePopup:e.togglePopup.bind(e)}):null),r.a.createElement(N,{loggedInUser:e.props.loggedInUser,className:"like-btn",game:t}))))}))):r.a.createElement("p",null,"Sign in ",r.a.createElement(d.b,{to:"/login"},"here"))):r.a.createElement("p",null,"Loading .. ")}}]),a}(r.a.Component),k=Object(b.f)(w),x=function(e){Object(m.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={newgame:{}},e.handleChange=function(t){var a=t.currentTarget.name,n=t.currentTarget.value,r=JSON.parse(JSON.stringify(e.state.newgame));r[a]=n,e.setState({newgame:r})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-page"},this.props.loggedInUser?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.props.onSubmit(t,e.state.newgame)}},r.a.createElement("h1",null,"Create a new game"),r.a.createElement("fieldset",{className:"form-field"},r.a.createElement("p",null,"What type of game is it?*"),r.a.createElement("div",null,r.a.createElement("input",{className:"popup-input",onChange:this.handleChange,checked:"warm-up"===this.state.newgame.category,type:"checkbox",name:"category",value:"warm-up"}),r.a.createElement("label",{htmlFor:"warm-up"},"Warm-up")),r.a.createElement("div",null,r.a.createElement("input",{className:"popup-input",onChange:this.handleChange,checked:"exercise"===this.state.newgame.category,type:"checkbox",name:"category",value:"exercise"}),r.a.createElement("label",{htmlFor:"exercise"},"Exercise")),r.a.createElement("div",null,r.a.createElement("input",{className:"popup-input",onChange:this.handleChange,checked:"scenes"===this.state.newgame.category,type:"checkbox",name:"category",value:"scenes"}),r.a.createElement("label",{htmlFor:"scenes"},"Scenes"))),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"What is the name of the game?*"),r.a.createElement("input",{onChange:this.handleChange,name:"name",type:"text",placeholder:"Name of the game"})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"Give a description of the game*"),r.a.createElement("textarea",{onChange:this.handleChange,name:"description",type:"text",placeholder:"Describe the game"})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"What are the benefits of this game?"),r.a.createElement("textarea",{onChange:this.handleChange,name:"purpose",type:"text",placeholder:"Enter purpose"})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"Do you wanna credit someone for this game?"),r.a.createElement("input",{onChange:this.handleChange,name:"credit",type:"text",placeholder:"Credit the mastermind"})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"Feel free to add a link to a video that shows/explains this game"),r.a.createElement("input",{onChange:this.handleChange,name:"video",type:"text",placeholder:"Video URL"})),r.a.createElement(E.a,{variant:"btn btn-success btn-create",type:"submit"},"Create")),r.a.createElement("div",{className:"form-image"},r.a.createElement("img",{src:a(20),alt:"festive pineapple"}))):r.a.createElement("p",null,"Sign in ",r.a.createElement(d.b,{to:"/login"},"here")))}}]),n}(r.a.Component),j=a(44),I=a.n(j),U=function(e){Object(m.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={game:{}},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;g.a.get("".concat(u,"/games/").concat(t),{withCredentials:!0}).then((function(t){e.setState({game:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state.game,n=t.name,l=t.category,i=t.description,c=t.purpose,s=t.credit,m=t.video,o=t._id,u=t.creator;return this.state.game?r.a.createElement("div",{className:"form-page"},this.props.loggedInUser?r.a.createElement("div",{className:"form-field"},r.a.createElement("h1",null,n),this.props.loggedInUser._id!==u?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/games/".concat(o,"/edit")},r.a.createElement(E.a,{variant:"btn btn-success"},"Edit")),r.a.createElement(E.a,{onClick:function(){return e.props.onGameDelete(o)},variant:"btn btn-success"},"Delete")),l?r.a.createElement("div",{className:"details-field"},r.a.createElement("hr",null),r.a.createElement("h4",null,"Type"),r.a.createElement("p",null,l.charAt(0).toUpperCase()+l.slice(1))):r.a.createElement("p",null,"Loading ..."),r.a.createElement("div",{className:"details-field"},r.a.createElement("hr",null),r.a.createElement("h4",null,"Description"),r.a.createElement("p",null,i)),c?r.a.createElement("div",{className:"details-field"},r.a.createElement("hr",null),r.a.createElement("h4",null,"Purpose"),r.a.createElement("p",null,c)):null,s?r.a.createElement("div",{className:"details-field"},r.a.createElement("hr",null),r.a.createElement("h4",null,"Credits"),r.a.createElement("p",null,s)):null,m?r.a.createElement(I.a,{url:m}):null):r.a.createElement("p",null,"Sign in ",r.a.createElement(d.b,{to:"/login"},"here")),r.a.createElement("div",{className:"form-image"},r.a.createElement("img",{src:a(24),alt:"festive pineapple"}))):r.a.createElement("p",null,"Loading .. ")}}]),n}(r.a.Component),D=Object(b.f)(U),T=function(e){Object(m.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={game:""},e.handleCatChange=function(t){var a=t.currentTarget.name,n=t.currentTarget.value,r=JSON.parse(JSON.stringify(e.state.game));r[a]=n,e.setState({game:r})},e.handleNameChange=function(t){var a=JSON.parse(JSON.stringify(e.state.game));a.name=t.currentTarget.value,e.setState({game:a})},e.handleDescChange=function(t){var a=JSON.parse(JSON.stringify(e.state.game));a.description=t.currentTarget.value,e.setState({game:a})},e.handlePurposeChange=function(t){var a=JSON.parse(JSON.stringify(e.state.game));a.purpose=t.currentTarget.value,e.setState({game:a})},e.handleCreditChange=function(t){var a=JSON.parse(JSON.stringify(e.state.game));a.credit=t.currentTarget.value,e.setState({game:a})},e.handleVideoChange=function(t){var a=JSON.parse(JSON.stringify(e.state.game));a.video=t.currentTarget.value,e.setState({game:a})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;g.a.get("".concat(u,"/games/").concat(t),{withCredentials:!0}).then((function(t){e.setState({game:t.data})}))}},{key:"render",value:function(){var e=this;if(!this.state.game)return r.a.createElement("p",null,"Loading .. ");var t=this.state.game,n=t.name,l=t.description,i=t.purpose,c=t.credit,s=t.video;return r.a.createElement("div",{className:"form-page"},r.a.createElement("form",null,r.a.createElement("h1",null,"Game changer"),r.a.createElement("fieldset",{className:"form-field"},r.a.createElement("div",null,r.a.createElement("p",null,"What type of game is it?"),r.a.createElement("input",{className:"popup-input",onChange:this.handleCatChange,checked:"warm-up"===this.state.game.category,type:"checkbox",name:"category",value:"warm-up"}),r.a.createElement("label",{htmlFor:"warm-up"},"Warm-up")),r.a.createElement("div",null,r.a.createElement("input",{className:"popup-input",onChange:this.handleCatChange,checked:"exercise"===this.state.game.category,type:"checkbox",name:"category",value:"exercise"}),r.a.createElement("label",{htmlFor:"exercise"},"Exercise")),r.a.createElement("div",null,r.a.createElement("input",{className:"popup-input",onChange:this.handleCatChange,checked:"scenes"===this.state.game.category,type:"checkbox",name:"category",value:"scenes"}),r.a.createElement("label",{htmlFor:"scenes"},"Scenes"))),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"We do need a name"),r.a.createElement("input",{onChange:this.handleNameChange,name:"name",type:"text",placeholder:"Enter Name",value:n})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"Give a clear description"),r.a.createElement("textarea",{onChange:this.handleDescChange,name:"description",type:"text",value:l,placeholder:"Enter Description"})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"But what can we learn from it?"),r.a.createElement("textarea",{onChange:this.handlePurposeChange,name:"name",type:"text",placeholder:"Enter purpose",value:i})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"Anyone to credit?"),r.a.createElement("input",{onChange:this.handleCreditChange,name:"name",type:"text",placeholder:"Enter credit",value:c})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"Wanna change the video?"),r.a.createElement("input",{onChange:this.handleVideoChange,name:"name",type:"text",placeholder:"Enter video url",value:s})),r.a.createElement(E.a,{onClick:function(t){return e.props.onGameEdit(t,e.state.game)},variant:"btn btn-success btn-create",type:"submit"},"Edit")),r.a.createElement("div",{className:"form-image"},r.a.createElement("img",{src:a(20),alt:"festive pineapple"})))}}]),n}(n.Component),_=function(e){Object(m.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={newtraining:{}},e.handleChange=function(t){t.preventDefault();var a=t.currentTarget.name,n=t.currentTarget.value,r=JSON.parse(JSON.stringify(e.state.newtraining));r[a]=n,e.setState({newtraining:r})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-page"},this.props.loggedInUser?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.props.onSubmit(t,e.state.newtraining)}},r.a.createElement("h1",null,"Create a new training"),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"What is the name of the training?*"),r.a.createElement("input",{onChange:this.handleChange,name:"name",type:"text",placeholder:"Training name"})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"Give a description of the training*"),r.a.createElement("textarea",{onChange:this.handleChange,name:"description",type:"text",placeholder:"Description"})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"What is the duration of the training in minutes?"),r.a.createElement("input",{onChange:this.handleChange,name:"duration",type:"number",placeholder:"Enter time"})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"Notes on this training"),r.a.createElement("textarea",{onChange:this.handleChange,name:"notes",type:"text",placeholder:"What's on your mind?"})),r.a.createElement(E.a,{variant:"btn btn-success btn-create",type:"submit"},"Create")),r.a.createElement("div",{className:"form-image"},r.a.createElement("img",{src:a(20),alt:"festive pineapple"}))):r.a.createElement("p",null,"Sign in ",r.a.createElement(d.b,{to:"/login"},"here")))}}]),n}(r.a.Component),G=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={trainings:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("".concat(u,"/trainings"),{withCredentials:!0}).then((function(t){e.setState({trainings:t.data})}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.loggedInUser?r.a.createElement("div",{className:"center-piece"},r.a.createElement("h1",null," My trainings"),r.a.createElement(d.b,{to:"/trainings/create"},r.a.createElement(E.a,{variant:"btn btn-success"},"New training")),this.state.trainings.map((function(e,t){return r.a.createElement(y.a,{key:"training"+t},r.a.createElement(y.a.Header,{className:"card-header",as:"h5"},e.name),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Text,null,e.description),r.a.createElement(y.a.Text,{className:"duration"},r.a.createElement("b",null,"Duration:"),"   ",e.duration," minutes"),r.a.createElement(d.b,{to:"/trainings/".concat(e._id)},r.a.createElement(E.a,{variant:"btn btn-success"},"More"))))}))):r.a.createElement("p",null,"Sign in ",r.a.createElement(d.b,{to:"/login"},"here")))}}]),a}(r.a.Component),J=Object(b.f)(G),M=function(e){Object(m.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={training:[],selectedGame:null},e.handleDelete=function(t,a){t.preventDefault(),g.a.patch("".concat(u,"/games/").concat(e.state.training._id,"/").concat(a._id,"/delete"),{},{withCredentials:!0}).then((function(t){e.setState({selectedGame:t.data},(function(){e.props.history.push("/trainings/".concat(e.state.training._id))}))}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;g.a.get("".concat(u,"/trainings/").concat(t),{withCredentials:!0}).then((function(t){e.setState({training:t.data})}))}},{key:"render",value:function(){var e=this;if(!this.state.training)return r.a.createElement("p",null,"Loading .. ");var t=this.state.training,n=t.name,l=t.duration,i=t.description,c=t.notes,s=t._id,m=t.games;return r.a.createElement("div",{className:"form-page"},this.props.loggedInUser?r.a.createElement("div",{className:"form-field"},r.a.createElement("h1",null,n),r.a.createElement("div",{className:"btn-collection-card"},r.a.createElement(d.b,{to:"/trainings/".concat(s,"/edit")},r.a.createElement(E.a,{variant:"btn btn-success"},"Edit")),r.a.createElement(E.a,{onClick:function(){return e.props.onTrainingDelete(s)},variant:"btn btn-success"},"Delete")),r.a.createElement("hr",null),r.a.createElement("h5",null,l," min"),r.a.createElement("div",{className:"details-field"},r.a.createElement("hr",null),r.a.createElement("h4",null,"Description"),r.a.createElement("p",null,i)),c?r.a.createElement("div",{className:"details-field"},r.a.createElement("hr",null),r.a.createElement("h4",null,"Notes"),r.a.createElement("p",null,c)):null,m?0===m.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("h4",null,"Games"),m.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{key:"mytraining"+t._id},r.a.createElement(y.a.Header,{className:"card-header"},r.a.createElement("span",{className:"card-title"},r.a.createElement("h5",null,t.name)," ",r.a.createElement("h5",null,t.category.charAt(0).toUpperCase()+t.category.slice(1)))),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Text,{className:"card-game-descr overflow"},t.description),r.a.createElement(d.b,{to:"/games/".concat(t._id)},r.a.createElement(E.a,{variant:"btn btn-success"},"More")),r.a.createElement(E.a,{onClick:function(){return e.handleDelete(t)},variant:"btn btn-success btn-top-margin"},"Remove from training"))))}))):r.a.createElement("p",null,"Loading ... ")):r.a.createElement("p",null,"Sign in ",r.a.createElement(d.b,{to:"/login"},"here")),r.a.createElement("div",{className:"form-image"},r.a.createElement("img",{src:a(24),alt:"festive pineapple"})))}}]),n}(r.a.Component),A=Object(b.f)(M),P=function(e){Object(m.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={training:""},e.handleNameChange=function(t){var a=JSON.parse(JSON.stringify(e.state.training));a.name=t.currentTarget.value,e.setState({training:a})},e.handleDescChange=function(t){var a=JSON.parse(JSON.stringify(e.state.training));a.description=t.currentTarget.value,e.setState({training:a})},e.handleDurationChange=function(t){var a=JSON.parse(JSON.stringify(e.state.training));a.duration=t.currentTarget.value,e.setState({training:a})},e.handleNotesChange=function(t){var a=JSON.parse(JSON.stringify(e.state.training));a.notes=t.currentTarget.value,e.setState({training:a})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;g.a.get("".concat(u,"/trainings/").concat(t),{withCredentials:!0}).then((function(t){e.setState({training:t.data})}))}},{key:"render",value:function(){var e=this;if(!this.state.training)return r.a.createElement("p",null,"Loading .. ");var t=this.state.training,n=t.name,l=t.duration,i=t.description,c=t.notes;return r.a.createElement("div",{className:"form-page"},r.a.createElement("form",null,r.a.createElement("h1",null,"Change that training!"),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"New name?"),r.a.createElement("input",{onChange:this.handleNameChange,name:"name",type:"text",placeholder:"Enter Name",value:n||""})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"What's the description?"),r.a.createElement("textarea",{onChange:this.handleDescChange,name:"description",type:"text",value:i||"",placeholder:"Enter Description"})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"How long it this training?"),r.a.createElement("input",{onChange:this.handleDurationChange,name:"duration",type:"text",value:l||"",placeholder:"Enter duration"})),r.a.createElement("div",{className:"form-field"},r.a.createElement("p",null,"Add some notes"),r.a.createElement("textarea",{onChange:this.handleNotesChange,name:"notes",type:"text",value:c||"",placeholder:"Enter notes"})),r.a.createElement(E.a,{onClick:function(t){return e.props.onTrainingEdit(t,e.state.training)},variant:"btn btn-success btn-create",type:"submit"},"Edit")),r.a.createElement("div",{className:"form-image"},r.a.createElement("img",{src:a(20),alt:"festive pineapple"})))}}]),n}(n.Component),F=Object(b.f)(P);function L(){return r.a.createElement("div",{className:"center-piece"},r.a.createElement("h1",null,"You've been tagged out of our site"),r.a.createElement("h3",null,"Route does not exist"),r.a.createElement("iframe",{title:"pineapple-gif",src:"https://giphy.com/embed/VLuEi3ijz0wrC",height:"200",frameBorder:"0",class:"giphy-embed",allowFullScreen:!0}),r.a.createElement(d.b,{to:"/games"},r.a.createElement(E.a,{variant:"btn btn-success btn-404"},"Go home")))}var W=function(e){Object(m.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={games:[]},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;g.a.get("".concat(u,"/user/").concat(t),{withCredentials:!0}).then((function(t){e.setState({games:t.data})}))}},{key:"render",value:function(){return this.state.games?r.a.createElement("div",{className:"form-page"},this.props.loggedInUser?r.a.createElement("div",{className:"form-field"},this.state.games?0===this.state.games.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,this.state.games[0].creator.username,"'s games"),this.state.games.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{key:"usergame"+e._id},r.a.createElement(y.a.Header,{className:"card-header"},r.a.createElement("span",{className:"card-title"},r.a.createElement("h5",null,e.name," |")," ",r.a.createElement("h5",null,e.category.charAt(0).toUpperCase()+e.category.slice(1)))),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Text,{className:"card-game-descr overflow"},e.description),r.a.createElement(d.b,{to:"/games/".concat(e._id)},r.a.createElement(E.a,{variant:"btn btn-success"},"More")))))}))):r.a.createElement("p",null,"Loading ... ")):r.a.createElement("p",null,"Sign in ",r.a.createElement(d.b,{to:"/login"},"here")),r.a.createElement("div",{className:"form-image"},r.a.createElement("img",{src:a(24),alt:"festive pineapple"}))):r.a.createElement("p",null,"Loading .. ")}}]),n}(r.a.Component),B=function(e){Object(m.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={games:[],trainings:[],loggedInUser:null,signUpError:null,logInError:null},e.handleSignUp=function(t){t.preventDefault();var a=t.currentTarget,n=a.username,r=a.email,l=a.password;g.a.post("".concat(u,"/signup"),{username:n.value,email:r.value,password:l.value},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/games")}))})).catch((function(t){e.setState({signUpError:t.response.data.errorMessage})}))},e.handleSignIn=function(t){t.preventDefault();var a=t.currentTarget,n=a.email,r=a.password;g.a.post("".concat(u,"/login"),{email:n.value,password:r.value},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/games")}))})).catch((function(t){e.setState({logInError:t.response.data.errorMessage})}))},e.handleLogOut=function(t){t.preventDefault(),g.a.get("".concat(u,"/logout"),{withCredentials:!0}).then((function(){e.setState({loggedInUser:null},(function(){e.props.history.push("/login")}))}))},e.handleGameSubmit=function(t,a){t.preventDefault();var n=a.category,r=a.name,l=a.description,i=a.purpose,c=a.credit,s=a.video;g.a.post("".concat(u,"/games/create"),{category:n,name:r,description:l,purpose:i,credit:c,video:s},{withCredentials:!0}).then((function(t){var a=t.data,n=JSON.parse(JSON.stringify(e.state.games));n.unshift(a),e.setState({games:n},(function(){e.props.history.push("/games")}))}))},e.handleTrainingSubmit=function(t,a){t.preventDefault();var n=a.name,r=a.description,l=a.duration,i=a.notes;g.a.post("".concat(u,"/trainings/create"),{name:n,description:r,duration:l,notes:i},{withCredentials:!0}).then((function(t){var a=t.data,n=JSON.parse(JSON.stringify(e.state.trainings));n.unshift(a),e.setState({trainings:n},(function(){e.props.history.push("/trainings")}))}))},e.handleGameDelete=function(t,a){t.preventDefault(),g.a.delete("".concat(u,"/games/").concat(a),{withCredentials:!0}).then((function(){var t=e.state.games.filter((function(e){return e._id!==a}));e.setState({games:t},(function(){e.props.history.push("/games")}))}))},e.handleTrainingDelete=function(t,a){t.preventDefault(),g.a.delete("".concat(u,"/trainings/").concat(a),{withCredentials:!0}).then((function(){var t=e.state.trainings.filter((function(e){return e._id!==a}));e.setState({trainings:t},(function(){e.props.history.push("/trainings")}))}))},e.handleGameEdit=function(t,a){t.preventDefault(),g.a.patch("".concat(u,"/games/").concat(a._id),{category:a.category,name:a.name,description:a.description,purpose:a.purpose,credit:a.credit,video:a.video},{withCredentials:!0}).then((function(){var t=e.state.games.map((function(e){return e._id===a._id&&(e=a),e}));e.setState({games:t},(function(){e.props.history.push("/games/".concat(a._id))}))}))},e.handleTrainingEdit=function(t,a){t.preventDefault(),g.a.patch("".concat(u,"/trainings/").concat(a._id),{name:a.name,description:a.description,duration:a.duration,notes:a.notes},{withCredentials:!0}).then((function(){var t=e.state.trainings.map((function(e){return e._id===a._id&&(e=a),e}));e.setState({trainings:t},(function(){e.props.history.push("/trainings/".concat(a._id))}))}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;g.a.get("".concat(u,"/games"),{withCredentials:!0}).then((function(t){e.setState({games:t.data})})),g.a.get("".concat(u,"/trainings"),{withCredentials:!0}).then((function(t){e.setState({trainings:t.data})})),this.state.loggedInUser||g.a.get("".concat(u,"/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"body"},"/"!==this.props.location.pathname&&"/login"!==this.props.location.pathname&&"/signup"!==this.props.location.pathname?r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{loggedInUser:this.state.loggedInUser,onLogout:this.handleLogOut}),r.a.createElement("img",{className:"header-image",src:a(81),alt:"row of pineapples"})):null,r.a.createElement(b.c,null,r.a.createElement(b.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(f,Object.assign({onSignIn:e.handleSignIn,errorMessage:e.state.logInError},t))}}),r.a.createElement(b.a,{path:"/login",render:function(t){return r.a.createElement(f,Object.assign({onSignIn:e.handleSignIn,errorMessage:e.state.logInError},t))}}),r.a.createElement(b.a,{path:"/signup",render:function(t){return r.a.createElement(v,Object.assign({onSignUp:e.handleSignUp,errorMessage:e.state.signUpError},t))}}),r.a.createElement(b.a,{exact:!0,path:"/games",render:function(t){return r.a.createElement(k,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),r.a.createElement(b.a,{exact:!0,path:"/games/create",render:function(t){return r.a.createElement(x,Object.assign({loggedInUser:e.state.loggedInUser,onSubmit:e.handleGameSubmit},t))}}),r.a.createElement(b.a,{exact:!0,path:"/games/:id",render:function(t){return r.a.createElement(D,Object.assign({loggedInUser:e.state.loggedInUser,onGameDelete:e.handleGameDelete},t))}}),r.a.createElement(b.a,{path:"/games/:id/edit",render:function(t){return r.a.createElement(T,Object.assign({onGameEdit:e.handleGameEdit,loggedInUser:e.state.loggedInUser},t))}}),r.a.createElement(b.a,{exact:!0,path:"/trainings",render:function(t){return r.a.createElement(J,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),r.a.createElement(b.a,{path:"/trainings/create",render:function(t){return r.a.createElement(_,Object.assign({loggedInUser:e.state.loggedInUser,onSubmit:e.handleTrainingSubmit},t))}}),r.a.createElement(b.a,{exact:!0,path:"/trainings/:id",render:function(t){return r.a.createElement(A,Object.assign({loggedInUser:e.state.loggedInUser,onTrainingDelete:e.handleTrainingDelete},t))}}),r.a.createElement(b.a,{path:"/trainings/:id/edit",render:function(t){return r.a.createElement(F,Object.assign({onTrainingEdit:e.handleTrainingEdit,loggedInUser:e.state.loggedInUser},t))}}),r.a.createElement(b.a,{exact:!0,path:"/user/:id",render:function(t){return r.a.createElement(W,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),r.a.createElement(b.a,{component:L})),this.props.children)}}]),n}(r.a.Component),H=Object(b.f)(B);i.a.render(r.a.createElement(d.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null))),document.getElementById("root"))}},[[47,13,14]]]);
//# sourceMappingURL=main.98a5d90d.chunk.js.map